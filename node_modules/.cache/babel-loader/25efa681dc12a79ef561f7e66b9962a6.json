{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/IT09/Music/poject/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/IT09/Music/poject/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/IT09/Music/poject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\r\n * @author Rido Martupa Simbolon\r\n */import React,{useState,useEffect}from'react';import{Link,NavLink}from'react-router-dom';import axios from\"axios\";import Moment from'moment';import'../css/project.css';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Project=function Project(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projects=_useState2[0],setProjects=_useState2[1];var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var role='';var uid='';if(user!==null){role=user.role;uid=user.id;}var getProjects=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='';role==='admin'?url=\"http://192.168.10.9:9000/allprojects\":url=\"http://192.168.10.9:9000/allprojects\";_context.next=4;return axios.get(url);case 4:response=_context.sent;setProjects(response.data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getProjects(){return _ref.apply(this,arguments);};}();useEffect(function(){getProjects();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-sm-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 text-gray-800\",children:\"All Projects\"}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(NavLink,{href:\"/dashboard\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Project\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-1\",children:/*#__PURE__*/_jsxs(Link,{to:'/projects/new',className:\"d-sm-inline-block btn btn-sm btn-primary shadow-sm mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-square fa-sm text-white-50\"}),\" Create New Project\"]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"PID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Project Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Participant\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Progress\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Due Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:projects.map(function(project,index){return JSON.parse(project.pic).data.map(function(item,idx){if(item.value==uid){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:project.projectid}),/*#__PURE__*/_jsx(\"td\",{className:\"text-bold\",children:/*#__PURE__*/_jsxs(Link,{className:\"text-lead toltip\",to:\"/projects/detail/\".concat(project.projectid),children:[project.projectname,/*#__PURE__*/_jsx(\"small\",{className:\"tooltiptext\",children:\"click for detail task\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:JSON.parse(project.pic).data.map(function(item,idx){return idx+1+'.'+item.label+\"\\n\";})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar bg-info\",role:\"progressbar\",style:{width:project.ttlbobot+'%'},\"aria-valuenow\":project.ttlbobot,\"aria-valuemin\":0,\"aria-valuemax\":100,children:[project.ttlbobot,\"%\"]})})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:Moment(project.startproj).format('DD-MM-YYYY')}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:Moment(project.endproj).format('DD-MM-YYYY')})]},index);}});})})]})]})]});};export default Project;","map":{"version":3,"names":["React","useState","useEffect","Link","NavLink","axios","Moment","useSelector","Project","projects","setProjects","state","auth","user","role","uid","id","getProjects","url","get","response","data","map","project","index","JSON","parse","pic","item","idx","value","projectid","projectname","label","width","ttlbobot","startproj","format","endproj"],"sources":["C:/Users/IT09/Music/poject/frontend/src/components/Project.jsx"],"sourcesContent":["/**\r\n * @author Rido Martupa Simbolon\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Moment from 'moment';\r\nimport '../css/project.css';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Project = () => {\r\n  const [projects, setProjects] = useState([]);\r\n  const {user} = useSelector((state) => state.auth);\r\n  let role = '';\r\n  let uid = '';\r\n  \r\n  if(user !== null){\r\n    role = user.role;\r\n    uid = user.id;\r\n  }\r\n\r\n  const getProjects = async () => {\r\n    let url='';\r\n    role === 'admin' ? url=\"http://192.168.10.9:9000/allprojects\" : url=`http://192.168.10.9:9000/allprojects`;\r\n    const response = await axios.get(url);\r\n    setProjects(response.data);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    getProjects();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container-fluid mt-4\">\r\n      {/* Page Heading */}\r\n      <div className=\"d-sm-flex align-items-center justify-content-between mb-2\">\r\n        <h1 className=\"h3 mb-3 text-gray-800\">All Projects</h1>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol className=\"breadcrumb\">\r\n            <li className=\"breadcrumb-item\"><NavLink href=\"/dashboard\">Dashboard</NavLink></li>\r\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">Project</li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n      <div className=\"card card-body\">\r\n        <div className=\"my-1\">\r\n          <Link to={'/projects/new'} className=\"d-sm-inline-block btn btn-sm btn-primary shadow-sm mb-3\"><i className=\"fas fa-plus-square fa-sm text-white-50\" /> Create New Project</Link>\r\n        </div>\r\n        <table className=\"table table-bordered\">\r\n          <thead>\r\n            <tr className=\"text-center\">\r\n              <th scope=\"col\">PID</th>\r\n              <th scope=\"col\">Project Name</th>\r\n              <th scope=\"col\">Participant</th>\r\n              <th scope=\"col\">Progress</th>\r\n              <th scope=\"col\">Start Date</th>\r\n              <th scope=\"col\">Due Date</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n\r\n          {projects.map((project, index) => (\r\n            JSON.parse(project.pic).data.map((item,idx) => {\r\n              if (item.value == uid) {\r\n              return  <tr key={index}>\r\n                  <td className=\"text-center\">{project.projectid}</td>\r\n                  <td className=\"text-bold\">\r\n                    <Link className=\"text-lead toltip\" to={`/projects/detail/${project.projectid}`}>{project.projectname}\r\n                      <small className=\"tooltiptext\">click for detail task</small>\r\n                    </Link>\r\n                  </td>\r\n                  <td className=\"text-center\" >\r\n                    {JSON.parse(project.pic).data.map((item,idx) => {\r\n                      return ((idx+1) +'.'+ item.label + `\\n`)\r\n                    })}\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"progress\">\r\n                      <div className=\"progress-bar bg-info\" role=\"progressbar\" style={{width: project.ttlbobot+'%'}} aria-valuenow={project.ttlbobot} aria-valuemin={0} aria-valuemax={100}>{project.ttlbobot}%</div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"text-center\">{Moment(project.startproj).format('DD-MM-YYYY')}</td>\r\n                  <td className=\"text-center\">{Moment(project.endproj).format('DD-MM-YYYY')}</td>\r\n                </tr>\r\n              }\r\n            })\r\n          ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Project;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}