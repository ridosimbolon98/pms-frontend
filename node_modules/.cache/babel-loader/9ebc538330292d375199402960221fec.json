{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/IT09/Music/pms/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/IT09/Music/pms/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/IT09/Music/pms/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/IT09/Music/pms/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\r\n * @author Rido Martupa Simbolon\r\n */import React,{useState,useEffect}from'react';import{Link,useNavigate,useParams}from'react-router-dom';import axios from\"axios\";import SubTask from'./SubTask';import Moment from'moment';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import Swal from'sweetalert2';import Modal from'react-modal';import'../css/project.css';import'../css/dp.css';import{useSelector}from'react-redux';import Select from'react-select';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var addSubTaskStyle={content:{backgroundColor:'#fff',minWidth:'30%',top:'50%',left:'50%',right:'auto',bottom:'auto',marginRight:'-50%',transform:'translate(-50%, -50%)'}};var DetailProjects=function DetailProjects(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),picSubTaskSelected=_useState2[0],setPicSubTaskSelected=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),picTaskSelected=_useState4[0],setPicTaskSelected=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),startDate=_useState6[0],setStartDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),dueDate=_useState8[0],setDueDate=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),detailProject=_useState10[0],setDetailProject=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),project=_useState12[0],setProject=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),subTask=_useState14[0],setSubTask=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),isDisabled=_useState16[0],setIsDisabled=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),taskId=_useState18[0],setTaskId=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),projectId=_useState20[0],setProjectId=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),options=_useState22[0],setOptions=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),msg=_useState24[0],setMsg=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),taskDesc=_useState26[0],setTaskDesc=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),taskBobot=_useState28[0],setTaskBobot=_useState28[1];var _useParams=useParams(),projectid=_useParams.projectid;var uuid='';var userid='';var role='';var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;if(user!==null){uuid=user.uuid;role=user.role;userid=user.id;}var getDataUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var dataUser;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsDisabled(false);setOptions([]);_context.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/users\"));case 4:dataUser=_context.sent;dataUser.data.forEach(function(dtUsr){var dataUsers={label:dtUsr.name,value:dtUsr.id};setOptions(function(oldArray){return[].concat(_toConsumableArray(oldArray),[dataUsers]);});});case 6:case\"end\":return _context.stop();}}},_callee);}));return function getDataUser(){return _ref.apply(this,arguments);};}();var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),modalIsOpen=_useState30[0],setIsOpen=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),modalNewIsOpen=_useState32[0],setNewIsOpen=_useState32[1];var openModalSubTask=function openModalSubTask(taskid){setTaskId(taskid);setIsOpen(true);};var openModalNewTask=function openModalNewTask(prjid){setProjectId(prjid);setNewIsOpen(true);};function closeModal(){setSubTask(\"\");setIsOpen(false);getDataUser();}function closeNewModal(){setTaskDesc(\"\");setTaskBobot(\"\");setProjectId(\"\");setStartDate(\"\");setDueDate(\"\");setNewIsOpen(false);}var getDetailProject=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/tasks/\").concat(projectid));case 2:response=_context2.sent;setDetailProject(response.data);setProject(response.data[0]);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getDetailProject(){return _ref2.apply(this,arguments);};}();useEffect(function(){getDetailProject();},[]);var handleCloseTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Swal.fire({text:'Apakah anda yakin close Task dengan ID: '+id+'?',showCancelButton:true,confirmButtonText:'Close'}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(result){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!result.isConfirmed){_context3.next=6;break;}_context3.next=3;return axios.patch(\"\".concat(process.env.REACT_APP_API_URL,\"/closetask/\").concat(id));case 3:response=_context3.sent;if(response.status===200){toast.success(/*#__PURE__*/_jsxs(\"small\",{children:[\"Task berhasil di closed. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});}else{toast.error(/*#__PURE__*/_jsxs(\"small\",{children:[\"Task gagal di closed. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});}getDetailProject();case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}());case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function handleCloseTask(_x){return _ref3.apply(this,arguments);};}();// delete task\nvar handleDeleteTask=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(taskid){var response;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:response=200;_context6.next=3;return Swal.fire({text:'Apakah anda yakin delete Task dengan ID: '+taskid+'?',showCancelButton:true,confirmButtonText:'Delete'}).then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(result){var _response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!result.isConfirmed){_context5.next=6;break;}_context5.next=3;return axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/tasks/\").concat(taskid));case 3:_response=_context5.sent;if(_response.status===200){toast.success(/*#__PURE__*/_jsxs(\"small\",{children:[\"Task berhasil di dihapus. Msg: \",_response.status,\" - \",_response.statusText]}),{theme:\"colored\"});}else{toast.error(/*#__PURE__*/_jsxs(\"small\",{children:[\"Task gagal di dihapus. Msg: \",_response.status,\" - \",_response.statusText]}),{theme:\"colored\"});}getDetailProject();case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref6.apply(this,arguments);};}());case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function handleDeleteTask(_x3){return _ref5.apply(this,arguments);};}();// delete project\nvar handleDelete=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(idprj){return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return Swal.fire({text:'Apakah anda yakin delete Project dengan ID: '+idprj+'?',showCancelButton:true,confirmButtonText:'Delete'}).then(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(result){var response;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!result.isConfirmed){_context7.next=5;break;}_context7.next=3;return axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/projects/\").concat(idprj));case 3:response=_context7.sent;if(response.status===200){toast.success(/*#__PURE__*/_jsxs(\"small\",{children:[\"Project dengan ID: \",idprj,\" berhasil dihapus. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});setTimeout(function(){navigate(\"/projects\");},3000);}else{toast.error(/*#__PURE__*/_jsxs(\"small\",{children:[\"Project dengan ID: \",idprj,\" gagal dihapus. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});setTimeout(function(){window.location.reload();},3000);}case 5:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x6){return _ref8.apply(this,arguments);};}());case 2:case\"end\":return _context8.stop();}}},_callee8);}));return function handleDelete(_x5){return _ref7.apply(this,arguments);};}();// cancel project\nvar handleCancel=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(idprj){var response;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:response=200;_context9.next=3;return Swal.fire({text:'Apakah anda yakin cancel Project dengan ID: '+idprj+'?',showCancelButton:true,confirmButtonText:'Delete'}).then(function(result){if(result.isConfirmed){toast.success(/*#__PURE__*/_jsxs(\"small\",{children:[\"Project dengan ID: \",idprj,\" berhasil di cancel. Msg: \",response,\" - \",response]}),{theme:\"colored\"});setTimeout(function(){window.location.reload();},3000);}});case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function handleCancel(_x7){return _ref9.apply(this,arguments);};}();// add sub task by modal\nvar addNewSubTask=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(e){var response;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:e.preventDefault();_context10.prev=1;_context10.next=4;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/subtasks\"),{taskid:taskId,subtask:subTask,pic:picSubTaskSelected.value,pid:project&&projectid,from:uuid});case 4:response=_context10.sent;if(response.status===201){toast.success(/*#__PURE__*/_jsxs(\"small\",{children:[\"Sub Task berhasil disubmit. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});}else{toast.error(/*#__PURE__*/_jsxs(\"small\",{children:[\"Sub Task gagal disubmit. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});}setTimeout(function(){window.location.reload();},3000);_context10.next=12;break;case 9:_context10.prev=9;_context10.t0=_context10[\"catch\"](1);if(_context10.t0.response){setMsg(_context10.t0.response.data.msg);}case 12:case\"end\":return _context10.stop();}}},_callee10,null,[[1,9]]);}));return function addNewSubTask(_x8){return _ref10.apply(this,arguments);};}();var handleChangePicTask=function handleChangePicTask(selectedOption){setPicTaskSelected(selectedOption);};var handleChangePicSubTask=function handleChangePicSubTask(selectedOption){setPicSubTaskSelected(selectedOption);};// tambah task baru\nvar addNewTask=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(e){var response;return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:e.preventDefault();_context11.prev=1;_context11.next=4;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/tasks\"),{projectid:projectId,taskdesc:taskDesc.toUpperCase(),taskbobot:taskBobot,startdate:startDate,duedate:dueDate,pic:picTaskSelected,from:uuid});case 4:response=_context11.sent;console.log(response);if(response.status===201){toast.success(/*#__PURE__*/_jsxs(\"small\",{children:[\"New Task berhasil disubmit. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});}else{toast.error(/*#__PURE__*/_jsxs(\"small\",{children:[\"New Task gagal disubmit. Msg: \",response.status,\" - \",response.statusText]}),{theme:\"colored\"});}setTimeout(function(){window.location.reload();},3000);_context11.next=13;break;case 10:_context11.prev=10;_context11.t0=_context11[\"catch\"](1);if(_context11.t0.response){setMsg(_context11.t0.response.data.msg);}case 13:case\"end\":return _context11.stop();}}},_callee11,null,[[1,10]]);}));return function addNewTask(_x9){return _ref11.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-sm-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 text-gray-800\",children:\"Detail Projects\"}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/projects\",children:\"Project\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Detail\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Project Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,className:\"form-control\",value:project&&project.projectname})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,className:\"form-control\",value:project&&project.description})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Periode\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,className:\"form-control\",value:Moment(project&&project.startproj).format('YYYY')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Owner Dept\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,className:\"form-control\",value:project&&project.subbagdept})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Participant\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,className:\"form-control\",value:project&&JSON.parse(project.partisipant).data.map(function(item,index){return' '+item.label+\"\\n\";})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,className:\"form-control\",value:project&&project.status})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Action\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:role==='admin'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleDelete(project&&projectid);},disabled:project&&project.status==='CLOSE'?true:false,className:\"btn btn-danger shadow mr-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-lock mr-2\"}),\"Delete Project\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleCancel(project&&projectid);},disabled:project&&project.status==='CANCEL'?true:false,className:\"btn btn-secondary shadow mr-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-minus-square mr-2\"}),\"Cancel Project\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return openModalNewTask(project&&projectid);},disabled:project&&project.status==='CLOSE'?true:false,className:\"btn btn-primary shadow\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus-square mr-2\"}),\"Add New Task\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleCancel(project&&projectid);},disabled:project&&project.status==='CANCEL'?true:false,className:\"btn btn-secondary shadow mr-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-minus-square mr-2\"}),\"Cancel Project\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return openModalNewTask(project&&projectid);},disabled:project&&project.status==='CLOSE'?true:false,className:\"btn btn-primary shadow\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus-square mr-2\"}),\"Add New Task\"]})]})})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Tasks List\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Task Name (Bobot)\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Sub Task (By)\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"PIC\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:detailProject.map(function(task,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:index+1}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-center\",style:{maxWidth:90+'px'},children:[task.task_name+' ('+task.bobot+')',/*#__PURE__*/_jsx(\"span\",{className:task.t_status?'badge badge-secondary badge-pill':'badge badge-info badge-pill',children:/*#__PURE__*/_jsx(\"small\",{className:\"text-white\",children:task.t_status?'CLOSED':'OPEN'})})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-bold\",style:{maxWidth:220+'px'},children:/*#__PURE__*/_jsx(SubTask,{taskid:task.taskid})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:task.name}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:Moment(task.due_date).format('DD-MM-YYYY')}),role==='admin'?/*#__PURE__*/_jsxs(\"td\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return openModalSubTask(task.taskid);},type:\"button\",className:\"btn btn-info btn-sm mr-1 toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus-square mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:\"Add Sub Task\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/task/details/\".concat(task.taskid),type:\"button\",className:\"btn btn-success btn-sm mr-1 toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-list mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:\"Detail Task\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleCloseTask(task.taskid);},type:\"button\",className:\"btn btn-warning btn-sm mr-1 toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-lock mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:\"Close Task\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleDeleteTask(task.taskid);},type:\"button\",className:\"btn btn-danger btn-sm toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash mr-1 \"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:\"Delete Task\"})]})]}):/*#__PURE__*/_jsxs(\"td\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return openModalSubTask(task.taskid);},disabled:task.pic!=\"\".concat(userid),type:\"button\",className:\"btn btn-info btn-sm mr-1 toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus-square mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:task.pic!=\"\".concat(userid)?'Disable Add Sub Task':'Add Sub Task'})]}),/*#__PURE__*/_jsxs(Link,{to:\"/task/details/\".concat(task.taskid),disabled:task.pic!=\"\".concat(userid),type:\"button\",className:\"btn btn-success btn-sm mr-1 toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-list mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:task.pic!=\"\".concat(userid)?'Disable Detail Task':'Detail Task'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleCloseTask(task.taskid);},disabled:task.pic!=\"\".concat(userid),type:\"button\",className:\"btn btn-warning btn-sm mr-1 toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-lock mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:task.pic!=\"\".concat(userid)?'Disable Close Task':'Close Task'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleDeleteTask(task.taskid);},disabled:task.pic!=\"\".concat(userid),type:\"button\",className:\"btn btn-danger btn-sm toltip\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash mr-1 \"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltiptext\",children:task.pic!=\"\".concat(userid)?'Disable Delete Task':'Delete Task'})]})]})]},task.id);})})]})]})]}),/*#__PURE__*/_jsxs(Modal,{appElement:document.getElementById('page-top'),isOpen:modalIsOpen,onRequestClose:closeModal,style:addSubTaskStyle,contentLabel:\"Add Sub Task\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-center text-warning\",children:msg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return addNewSubTask(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-dark\",children:\"Sub Task Name\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",type:\"text\",placeholder:\"enter new sub task\",value:subTask,onChange:function onChange(e){return setSubTask(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-dark\",children:\"Sub Task PIC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(Select,{disabled:isDisabled,options:options,value:picSubTaskSelected,onChange:handleChangePicSubTask}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:getDataUser,className:\"btn btn-sm btn-info ml-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-refresh\"}),\"Load Users\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-secondary\",onClick:closeModal,children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-sm btn-primary\",children:\"Submit\"})]})]})]}),/*#__PURE__*/_jsxs(Modal,{appElement:document.getElementById('page-top'),isOpen:modalNewIsOpen,onRequestClose:closeNewModal,style:addSubTaskStyle,contentLabel:\"Add New Task\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-center text-warning\",children:msg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return addNewTask(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Task Item Description\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:taskDesc,onChange:function onChange(e){return setTaskDesc(e.target.value);},placeholder:\"task item description\",autoFocus:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:taskBobot,onChange:function onChange(e){return setTaskBobot(e.target.value);},placeholder:\"bobot task\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Start Date - Due Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"date\",value:startDate,onChange:function onChange(e){return setStartDate(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"date\",value:dueDate,onChange:function onChange(e){return setDueDate(e.target.value);}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Task PIC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(Select,{disabled:isDisabled,options:options,value:picTaskSelected,onChange:handleChangePicTask}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:getDataUser,className:\"btn btn-info ml-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-refresh\"}),\"Load Users\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-secondary\",onClick:closeNewModal,children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-sm btn-primary\",children:\"Submit\"})]})]})]}),/*#__PURE__*/_jsx(ToastContainer,{icon:false,autoClose:3000})]});};export default DetailProjects;","map":null,"metadata":{},"sourceType":"module"}