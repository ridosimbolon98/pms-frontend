{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/IT09/Music/pms/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/IT09/Music/pms/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/IT09/Music/pms/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\r\n * @author Rido Martupa Simbolon\r\n */import React,{useState,useEffect}from'react';import{Link,NavLink,useParams}from'react-router-dom';import axios from\"axios\";import Moment from'moment';import'../css/project.css';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProjectSearch=function ProjectSearch(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projects=_useState2[0],setProjects=_useState2[1];var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useParams=useParams(),keyword=_useParams.keyword;var role='';var uid='';if(user!==null){role=user.role;uid=user.id;}var searchProject=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/projects/search\"),{keyword:keyword});case 3:response=_context.sent;setProjects(response.data);console.log(response.data);_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function searchProject(){return _ref.apply(this,arguments);};}();useEffect(function(){searchProject();},[projects]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-1\",children:/*#__PURE__*/_jsxs(Link,{to:'/projects/new',className:\"d-sm-inline-block btn btn-sm btn-primary shadow-sm mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-square fa-sm text-white-50\"}),\" Create New Project\"]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"PID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Project Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Participant\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Progress\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Periode\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Due Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:projects.map(function(project,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:project.projectid}),/*#__PURE__*/_jsx(\"td\",{className:\"text-bold\",children:/*#__PURE__*/_jsxs(Link,{className:\"text-lead toltip\",to:\"/projects/detail/\".concat(project.projectid),children:[project.projectname,/*#__PURE__*/_jsx(\"small\",{className:\"tooltiptext\",children:\"click for detail task\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:JSON.parse(project.pic).data.map(function(item,idx){return idx+1+'.'+item.label+\"\\n\";})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar bg-info\",role:\"progressbar\",style:{width:project.ttlbobot+'%'},\"aria-valuenow\":project.ttlbobot,\"aria-valuemin\":0,\"aria-valuemax\":100,children:[project.ttlbobot,\"%\"]})})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:Moment(project.startproj).format('YYYY')}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:Moment(project.startproj).format('DD-MM-YYYY')}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:Moment(project.endproj).format('DD-MM-YYYY')})]},index);})})]})]})});};export default ProjectSearch;","map":null,"metadata":{},"sourceType":"module"}